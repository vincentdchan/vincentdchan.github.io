{"version":3,"sources":["webpack:///./src/components/postHeader.js","webpack:///./src/components/blogPost.js","webpack:///./src/templates/blogTemplate.js","webpack:///./node_modules/react-fisheye/lib/bundle.js","webpack:///./src/components/articleLayout.js"],"names":["OuterContainer","styled","div","HeaderContainer","LeftTitle","RightArea","RightButton","PostHeader","headerImage","handleLinkClick","e","navigate","handleAboutMeClick","handleRssClick","query","render","data","onClick","site","siteMetadata","title","BlogPost","betterDate","date","moment","format","Disqus","componentDidMount","this","props","pageId","pageUrl","window","disqus_config","page","url","identifier","eval","componentWillUnmount","id","Component","Template","markdownRemark","frontmatter","html","path","__date","Date","year","getFullYear","toString","month","getMonth","length","permalink","header","src","placeholder","loading","alt","style","margin","keywords","tags","className","to","dangerouslySetInnerHTML","__html","pageQuery","_slicedToArray","arr","i","Array","isArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","value","err","_iterableToArrayLimit","TypeError","_nonIterableRest","FishEyeItem","num","translateOffset","scale","offset","translateKey","mode","createElement","transform","concat","transformOrigin","onMouseOver","children","getScaleSize","index","multiple","arguments","x","Math","exp","getContainerStyle","display","FishEye","_useState2","selectedOne","setSelectedItem","_props$multiple","selectedIndex","map","item","key","indexOf","onMouseOut","isSelected","Container","Item","ArticleLayout","windowSizeChanged","setState","visible","innerWidth","handleIndexOnClick","obj","state","headings","elem","scrollIntoView","behavior","blogContainer","document","querySelector","tag","tagName","toLowerCase","includes","type","textContent","addEventListener","removeEventListener","renderContent"],"mappings":"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","file":"component---src-templates-blog-template-js-f5602b1a7f23c3ba34db.js","sourcesContent":["\nimport styled from 'styled-components'\nimport React from 'react'\nimport { StaticQuery, graphql, navigate } from 'gatsby'\n\nconst OuterContainer = styled.div`\n  margin-bottom: 24px;\n`;\n\nconst HeaderContainer = styled.div`\n  width: 100%;\n  height: 48px;\n  border-bottom-style: solid;\n  border-bottom-width: 1px;\n\n  display: flex;\n  flex-direction: row;\n`;\n\nconst LeftTitle = styled.div`\n  line-height: 48px;\n  color: #1A2D5A;\n  font-weight: bold;\n  font-size: 24px;\n  padding-left: 24px;\n  margin-right: auto;\n\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\nconst RightArea = styled.div`\n  padding-right: 24px;\n\n  display: flex;\n`;\n\nconst RightButton = styled.div`\n  height: 48px;\n  line-height: 48px;\n  color: 2E406E;\n  margin-left: auto;\n  padding-left: 12px;\n  padding-right: 12px;\n  font-size: 16px;\n\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\nconst PostHeader = ({ headerImage }) => {\n  const handleLinkClick = (e) => {\n    navigate(\"/\")\n  }\n  const handleAboutMeClick = e => {\n    navigate(\"/aboutme\")\n  }\n  const handleRssClick = e => {\n    navigate(\"/rss\")\n  }\n  return (\n    <StaticQuery\n      query={graphql`\n        query {\n          site {\n            siteMetadata {\n              title\n            }\n          }\n        }\n      `}\n      render={data => {\n        return (\n          <OuterContainer>\n            <HeaderContainer>\n              <LeftTitle onClick={handleLinkClick}>{data.site.siteMetadata.title}</LeftTitle>\n              <RightArea>\n                <RightButton onClick={handleAboutMeClick}>\n                  关于我\n                </RightButton>\n                <RightButton onClick={handleRssClick}>\n                  RSS\n                </RightButton>\n              </RightArea>\n            </HeaderContainer>\n            {headerImage}\n          </OuterContainer>\n        );\n      }}\n    />\n  );\n}\n\nexport default PostHeader\n","import styled from 'styled-components';\n\nconst BlogPost = styled.div`\n  font-size: 18px;\n  line-height: 1.5em;\n\n  .blog-post-content {\n\n    margin-top: 18px;\n\n    color: #1A2D5A;\n\n    h1, h2 {\n      font-size: 22px;\n      margin-bottom: 12px;\n    }\n\n  }\n`;\n\nexport default BlogPost;\n","import React, { Component } from \"react\"\nimport { graphql } from \"gatsby\"\nimport moment from 'moment'\nimport ProgressiveImage from 'react-progressive-image'\n\nimport Layout from '../components/layout'\nimport SEO from '../components/seo'\nimport Title from '../components/Title'\nimport PostMeta from '../components/postMeta'\nimport BlogPost from '../components/blogPost'\nimport HeaderImagePlaceFolder from '../components/headerImagePlaceHolder'\nimport { ArticleLayout } from '../components/articleLayout'\nimport PostHeader from '../components/postHeader'\n\nfunction betterDate(date) {\n  return moment(date).format('YYYY-MM-DD');\n}\n\n// const disqusCode = ({ pageId, pageUrl }) => `\n// <div id=\"disqus_thread\"></div>\n// <script>\n\n// /**\n// *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.\n// *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/\n// var disqus_config = function () {\n// this.page.url = '${pageUrl}';  // Replace PAGE_URL with your page's canonical URL variable\n// this.page.identifier = '${pageId}'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable\n// };\n// (function() { // DON'T EDIT BELOW THIS LINE\n// var d = document, s = d.createElement('script');\n// s.src = 'https://vincentdchan.disqus.com/embed.js';\n// s.setAttribute('data-timestamp', +new Date());\n// (d.head || d.body).appendChild(s);\n// })();\n// </script>\n// <noscript>Please enable JavaScript to view the <a href=\"https://disqus.com/?ref_noscript\">comments powered by Disqus.</a></noscript>\n// `\n\nclass Disqus extends Component {\n\n  componentDidMount() {\n    const { pageId, pageUrl } = this.props;\n    window.disqus_config = function () {\n      this.page.url = pageUrl;\n      this.page.identifier = pageId;\n    }\n    eval(`\n      (function() { // DON'T EDIT BELOW THIS LINE\n      var d = document, s = d.createElement('script');\n      s.src = 'https://vincentdchan.disqus.com/embed.js';\n      s.setAttribute('data-timestamp', +new Date());\n      (d.head || d.body).appendChild(s);\n      })();\n    `)\n  }\n\n  componentWillUnmount() {\n    delete window.disqus_config;\n  }\n\n  render() {\n    return <div id=\"disqus_thread\" />\n  }\n\n}\n\nexport default function Template({\n  data, // this prop will be injected by the GraphQL query below.\n}) {\n  const { markdownRemark } = data // data.markdownRemark holds our post data\n  const { frontmatter, html } = markdownRemark\n  let path = frontmatter.path;\n  if (!path) {\n    const __date = new Date(frontmatter.date);\n    const year = __date.getFullYear().toString();\n    let month = (__date.getMonth() + 1).toString();\n    if (month.length < 2) {\n      month = '0' + month;\n    }\n    path = `/${year}/${month}/${frontmatter.permalink}`;\n  }\n  return (\n    <Layout\n      header={<PostHeader headerImage={\n        frontmatter.headerImage && (\n          <ProgressiveImage src={frontmatter.headerImage} placeholder=\"\">\n            {(src, loading) => {\n              return loading ? <HeaderImagePlaceFolder /> : (\n                <img\n                  src={src}\n                  alt=\"\"\n                  style={{\n                    margin: '0px',\n                  }}\n                />\n              );\n            }}\n          </ProgressiveImage>\n        )\n      } />}\n    >\n      <SEO\n        title={frontmatter.title}\n        keywords={[\n          `blog`,\n          `technology`,\n          `photography`,\n          ...(frontmatter.tags || []),\n        ]}\n      />\n      <div className=\"blog-post-container\">\n        <BlogPost>\n          <Title to={path}>\n            {frontmatter.title}\n          </Title>\n          <PostMeta>\n            Posted at {betterDate(frontmatter.date)}\n          </PostMeta>\n          <div\n            className=\"blog-post-content\"\n            dangerouslySetInnerHTML={{ __html: html }}\n          />\n        </BlogPost>\n      </div>\n      <Disqus\n        pageUrl={`https://diverse.space${path}`}\n        pageId={path}\n      />\n      <ArticleLayout />\n    </Layout>\n  )\n}\n\nexport const pageQuery = graphql`\n  query($title: String!) {\n    markdownRemark(frontmatter: { title: { eq: $title } }) {\n      html\n      frontmatter {\n        date\n        path\n        title\n        permalink\n        headerImage\n        tags,\n      }\n    }\n  }\n`\n","import React, { useState } from 'react';\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction nor(num) {\n  if (num === 0) return num;\n  return num > 0 ? 1 : 0;\n}\n\nfunction FishEyeItem(props) {\n  var handleMouseOver = function handleMouseOver(e) {\n    props.onMouseOver(e);\n  };\n\n  var translateOffset = props.scale * nor(props.offset);\n  var translateKey = props.mode === 'horizontal' ? 'translateX' : 'translateY';\n  return React.createElement(\"div\", {\n    className: \"react-fish-eye-item\",\n    \"data-scale\": props.scale,\n    \"data-offset\": props.offset,\n    style: {\n      transform: \"scale(\".concat(props.scale + 1, \") \").concat(translateKey, \"(\").concat(translateOffset * 10, \"px)\"),\n      transformOrigin: props.mode === 'horizontal' ? '50% 100%' : '0% 50%'\n    },\n    onMouseOver: handleMouseOver\n  }, props.children);\n}\n\nfunction getScaleSize(index) {\n  var multiple = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.6;\n  var x = index;\n  return multiple * Math.exp(-1 * x * x);\n}\n\nfunction getContainerStyle() {\n  var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'vertical';\n\n  if (mode === 'horizontal') {\n    return {\n      display: 'flex'\n    };\n  }\n\n  return {};\n}\n\nfunction FishEye(props) {\n  var _useState = useState('selectedOne'),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedOne = _useState2[0],\n      setSelectedItem = _useState2[1];\n\n  var data = props.data,\n      _props$multiple = props.multiple,\n      multiple = _props$multiple === void 0 ? 0.6 : _props$multiple,\n      mode = props.mode;\n  var selectedIndex = props.data.map(function (item) {\n    return item.key;\n  }).indexOf(selectedOne);\n\n  var handleContainerMouseOut = function handleContainerMouseOut() {\n    setSelectedItem('<unknown>');\n  };\n\n  if (selectedIndex < 0) {\n    selectedIndex = -1 * 10 - 6;\n  }\n\n  return React.createElement(\"div\", {\n    className: \"react-fisheye-container\",\n    onMouseOut: handleContainerMouseOut,\n    style: getContainerStyle(mode)\n  }, data.map(function (item, index) {\n    return React.createElement(FishEyeItem, {\n      key: item.key,\n      data: item,\n      scale: getScaleSize(index - selectedIndex, multiple),\n      offset: index - selectedIndex,\n      isSelected: selectedOne === item.key,\n      onMouseOver: function onMouseOver() {\n        return setSelectedItem(item.key);\n      },\n      mode: mode\n    }, props.render(item, index));\n  }));\n}\n\nexport { FishEye, FishEyeItem };","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { FishEye } from \"react-fisheye\";\n\nconst Container = styled.div`\n  position: fixed;\n  left: 0px;\n  top: 80px;\n`;\n\nconst Item = styled.div`\n  font-size: 14px;\n  padding-left: 12px;\n  color: #1a2d5ac2;\n\n  &:hover {\n    cursor: pointer;\n    color: #1A2D5A;\n  }\n\n  &.h1 {\n    font-size: 16px;\n  }\n\n  &.h2 {\n    font-size: 16px;\n    padding-left: 24px;\n  }\n\n  &.h3 {\n    padding-left: 36px;\n  }\n`;\n\nconst tags = ['h1', 'h2', 'h3'];\n\nexport class ArticleLayout extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      headings: [],\n      visible: true,\n    };\n  }\n\n  componentDidMount() {\n    const blogContainer = document.querySelector('.blog-post-content');\n    if (!blogContainer) return;\n\n    this.windowSizeChanged();\n\n    const headings = [];\n    for (let i = 0; i < blogContainer.children.length; i++) {\n      const elem = blogContainer.children.item(i);\n      const tag = elem.tagName.toLowerCase()\n      if (tags.includes(tag)) {\n        headings.push({\n          type: tag,\n          value: elem.textContent,\n          key: elem.textContent,\n          elem,\n        });\n      }\n    }\n\n    this.setState({\n      headings,\n    });\n\n    window.addEventListener('resize', this.windowSizeChanged, this.windowSizeChanged);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.windowSizeChanged, this.windowSizeChanged);\n  }\n\n  windowSizeChanged = () => {\n    this.setState({\n      visible: window.innerWidth >= 1024,\n    });\n  }\n\n  handleIndexOnClick = index => {\n    const obj = this.state.headings[index];\n    if (!obj) return;\n    if (!obj.elem) return;\n\n    obj.elem.scrollIntoView({\n      behavior: \"smooth\",\n    });\n  }\n\n  renderContent() {\n    return <FishEye\n      multiple={0.35}\n      data={this.state.headings}\n      render={({ type, value }, index) => {\n        return (\n          <Item\n            key={value}\n            className={type}\n            onClick={() => this.handleIndexOnClick(index)}\n          >\n            { value }\n          </Item>\n        );\n      }}\n    />;\n    // return this.state.headings.map(({ type, value }, index) => {\n    //   return (\n    //     <Item\n    //       key={value}\n    //       className={type}\n    //       onClick={() => this.handleIndexOnClick(index)}\n    //     >\n    //       { value }\n    //     </Item>\n    //   )\n    // });\n  }\n\n  render() {\n    return (\n      <Container style={{\n        display: this.state.visible ? 'block' : 'none',\n      }}>\n        {this.renderContent()}\n      </Container>\n    );\n  }\n}\n"],"sourceRoot":""}